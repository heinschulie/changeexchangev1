"use strict";var app=angular.module("cxcApp",["ngRoute","ngSanitize","angular-carousel"]);app.config(["$routeProvider",function(e){e.when("/about",{templateUrl:"/app/views/about.html"}),e.when("/home",{controller:"homeController",templateUrl:"/app/views/home.html"}),e.when("/:postId",{controller:"postController",templateUrl:"/app/views/post.html"}),e.otherwise({redirectTo:"/home"})}]),app.config(["$httpProvider",function(e){e.defaults.useXDomain=!0,delete e.defaults.headers.common["X-Requested-With"]}]);
"use strict";!function(){var t=angular.module("cxcApp"),o=function(t,o){t.contentState=o;callForPosts()};t.controller("aboutController",["$scope","contentState",o])}();
"use strict";!function(){var t=angular.module("cxcApp"),n=function(t,n){t.contentState=n,t.callForPosts=function(){return n.getPosts()},t.currentSm="fb",t.changeSm=function(n){t.currentSm=n},n.data.pageNumber<=1&&(t.contentState.data.categories=["Landing that Job","Making a Home","Starting a Family","Tying the Knot","Ruda talks change","The Dan Nicoll Show"],t.callForPosts()),n.data.banners&&n.data.banners.length||n.getBanners()};t.controller("homeController",["$scope","contentState",n])}();
"use strict";!function(){var t=angular.module("cxcApp"),e=function(t,e,a,o){t.active=!1,t.toggleMenu=function(){t.active?t.active=!1:t.active=!0},t.chosenMoment="What change moment are you going through?",t.changeMoments=[{title:"Landing that Job",active:!1},{title:"Making a Home",active:!1},{title:"Starting a Family",active:!1},{title:"Tying the Knot",active:!1}],t.selectedMoment=function(e){e&&("all"===e?t.chosenMoment={title:"",active:!1}:t.chosenMoment=e),angular.forEach(t.changeMoments,function(e){e.title===t.chosenMoment.title?e.active=!0:e.active=!1}),a.data.pageNumber=0;var o=a.data.postsPerPage*a.data.pageNumber;a.data.posts=a.data.posts.splice(0,o),a.data.categories=[],t.chosenMoment.title&&a.data.categories.push(t.chosenMoment.title),t.callForPosts()},t.callForPosts=function(){return"/home"===e.path()?a.getPosts():void e.path("/home")};var n=function(e){return o.getCategories(e).then(function(e){t.exchangeCategories=e.data})};n("Exchange")};t.controller("indexController",["$scope","$location","contentState","categoryService",e])}();
"use strict";!function(){var t=angular.module("cxcApp"),o=function(t,o,a){t.sameAuthorPosts=[],t.sameCategoryPosts=[],t.contentState=a;var e=o.postId;t.callForPost=function(){return a.getPost(e)};var n=function(){},r=function(){a.data.posts.length||n(),t.sameAuthorPosts=a.data.posts.filter(function(t){return t.author.username===a.data.post.author.username}),t.sameCategoryPosts=a.data.posts.filter(function(t){if(t.ID===a.data.post.ID)return!1;for(var o=t.terms.category.map(function(t){return t.name}),e=0;e<o.length;e++)for(var n=0;n<a.data.categories.length;n++)if(o[e]===a.data.categories[n]&&"Change Moments"!==o[e]&&"Exchange"!==o[e])return!0})};t.callForPost().then(function(t){}).then(r)};t.controller("postController",["$scope","$routeParams","contentState",o])}();
!function(){var n=angular.module("cxcApp");n.directive("cxcBanner",function(){return{restrict:"E",templateUrl:"app/directives/templates/cxc-banner.html",scope:{cxcbannercontent:"="},replace:!0,link:function(n){},controller:function(n){n.testClick=function(){alert(n.cxcbannercontent.title)}}}})}();
!function(){var c=angular.module("cxcApp");c.directive("cxcCard",function(){return{restrict:"E",templateUrl:"app/directives/templates/cxc-card.html",scope:{cxccontent:"="},replace:!0,link:function(c){},controller:function(c){c.testClick=function(){alert(c.cxccontent.title)}}}})}();
"use strict";!function(){var t=function(t,r,e){var c=r.serviceBase,n=function(r){return t.get(c+"posts/types/posts/taxonomies/category/terms").then(function(t){if(r){var e=t.data.filter(function(t){return t.parent?t.parent.name===r:void 0});t.data=e}return t})["catch"](function(t){e.catchError(t)})};return{getCategories:n}},r=angular.module("cxcApp");r.factory("categoryService",["$http","cxcService","errorService",t])}();
"use strict";!function(){var t=function(t,e,n,a,r){var o={categories:[],pageNumber:0,postsPerPage:6,post:{},posts:[],banners:[]},s=function(t){return n.getPage(t).then(function(t){o.page=t.data})},c=function(t){return a.getPost(t).then(function(t){o.categories=t.data.terms.category.map(function(t){return t.name}),o.post=t.data,o.post.content=e.trustAsHtml(o.post.content)})},u=function(){return o.pageNumber=o.pageNumber+1,a.getPosts(o.postsPerPage,o.pageNumber,o.categories).then(function(t){1===o.pageNumber?o.posts=t.data:o.posts=o.posts.concat(t.data)})},g=function(){var t=["banner"];return a.getBanners(o.postsPerPage,t).then(function(t){o.banners=o.banners.concat(t.data)})};return{data:o,getPage:s,getPost:c,getPosts:u,getBanners:g}},e=angular.module("cxcApp");e.factory("contentState",["$timeout","$sce","pageService","postService","errorService",t])}();
!function(){var e=function(e,r){var a="http://changeexchangedev.azurewebsites.net/wp-json/",c="http://changeexchangev1.azurewebsites.net//",n=function(){var c=e.defer();if(a)c.resolve(a);else{var n="Service Base is undefined.";c.reject(n);var t={message:n};r(t)}return c.promise};return{serviceBase:a,getServiceUrl:n,applicationBase:c}},r=angular.module("cxcApp");r.factory("cxcService",["$q","errorService",e])}();
!function(){var r=function(){var r=function(r){console.log(r)};return{catchError:r}},c=angular.module("cxcApp");c.factory("errorService",[r])}();
!function(){var e=function(e,r,t){var c=r.serviceBase,n=function(r){return e.get(c+"pages/"+r).then(function(e){return e})["catch"](function(e){t.catchError(e)})},a=function(){return e.get(c+"pages/").then(function(e){return e})["catch"](function(e){t.catchError(e)})};return{getPage:n,getPages:a}},r=angular.module("cxcApp");r.factory("pageService",["$http","cxcService","errorService",e])}();
!function(){"use strict";var t=function(t,e,r){var n=e.serviceBase,c=function(e){return t.get(n+"posts/"+e).then(function(t){return t})["catch"](function(t){r.catchError(t)})},o=function(e,c,o){var i=n+"posts?filter[posts_per_page]="+e+"&page="+c+"&fields=ID,title,excerpt";if(o&&o.length>0){i+="&filter[category_name]=";for(var a=0;a<o.length;a++)i=i+","+o[a]}return t.get(i).then(function(t){return t})["catch"](function(t){r.catchError(t)})},i=function(e,c){var o=n+"posts?filter[posts_per_page]="+e+"&fields=ID,title,excerpt";if(c&&c.length>0){o+="&filter[category_name]=";for(var i=0;i<c.length;i++)o=o+","+c[i]}return t.get(o).then(function(t){return t})["catch"](function(t){r.catchError(t)})};return{getPost:c,getPosts:o,getBanners:i}},e=angular.module("cxcApp");e.factory("postService",["$http","cxcService","errorService",t])}();