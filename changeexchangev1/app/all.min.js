"use strict";var app=angular.module("cxcApp",["ngRoute","ngSanitize","angular-carousel"]);app.config(["$routeProvider",function(e){e.when("/exchange/:pagename",{controller:"pageController",templateUrl:"/app/views/page.html"}),e.when("/galleries",{controller:"galleriesController",templateUrl:"/app/views/galleries.html"}),e.when("/gallery/:galleryName",{controller:"galleryController",templateUrl:"/app/views/gallery.html"}),e.when("/home",{controller:"homeController",templateUrl:"/app/views/home.html"}),e.when("/:postId",{controller:"postController",templateUrl:"/app/views/post.html"}),e.otherwise({redirectTo:"/home"})}]),app.config(["$httpProvider",function(e){e.defaults.useXDomain=!0,delete e.defaults.headers.common["X-Requested-With"]}]);
!function(){"use strict";var t=angular.module("cxcApp"),e=function(t,e){t.contentState=e;var n=function(){return e.getGalleries()};n()};t.controller("galleriesController",["$scope","contentState",e])}();
!function(){"use strict";var t=angular.module("cxcApp"),n=function(t,n){t.contentState=n;var a=function(){return n.getArtworks()};t.expand=function(n){angular.forEach(t.contentState.data.artworks,function(t){t!=n&&(t.active=!1)}),n.active=!n.active},a()};t.controller("galleryController",["$scope","contentState",n])}();
!function(){"use strict";var t=angular.module("cxcApp"),n=function(t,n){t.contentState=n,t.callForPosts=function(){return n.getPosts()},t.currentSm="fb",t.changeSm=function(n){t.currentSm=n},n.data.pageNumber<=1&&(t.contentState.data.categories=["Landing that Job","Making a Home","Starting a Family","Tying the Knot","Ruda talks change","The Dan Nicoll Show"],t.callForPosts()),n.data.banners&&n.data.banners.length||n.getBanners(null,!0)};t.controller("homeController",["$scope","contentState",n])}();
!function(){"use strict";var e=angular.module("cxcApp"),a=function(e,a,t,n){e.active=!1,e.toggleMenu=function(){e.active?e.active=!1:e.active=!0},e.chosenMoment={name:"What change moment are you going through?"},e.changeMoments=[{name:"Landing that Job",active:!1},{name:"Making a Home",active:!1},{name:"Starting a Family",active:!1},{name:"Tying the Knot",active:!1}],e.selectedMoment=function(a,n){a&&("Landing that Job"!==a.name&&"Making a Home"!==a.name&&"Starting a Family"!==a.name&&"Tying the Knot"!==a.name?e.chosenMoment={name:"What change moment are you going through?",active:!1}:e.chosenMoment.name=a.name),angular.forEach(e.changeMoments,function(a){a.name===e.chosenMoment.name?a.active=!0:a.active=!1}),t.data.pageNumber=0;var o=t.data.postsPerPage*t.data.pageNumber;t.data.posts=t.data.posts.splice(0,o),t.data.categories=[],"all"!==a&&t.data.categories.push(a.name),e.callForPosts(),n&&t.getBanners(t.data.categories)},e.callForPosts=function(){return"/home"===a.path()?t.getPosts():void a.path("/home")};var o=function(a){return n.getCategories(a).then(function(a){e.exchangeCategories=a.data})};o("Exchange")};e.controller("indexController",["$scope","$location","contentState","categoryService",a])}();
!function(){"use strict";var t=angular.module("cxcApp"),e=function(t,e,n){t.contentState=n;var a=function(){return n.getPage(e.pagename)};a()};t.controller("pageController",["$scope","$routeParams","contentState",e])}();
!function(){"use strict";var t=angular.module("cxcApp"),o=function(t,o,a){t.sameAuthorPosts=[],t.sameCategoryPosts=[],t.contentState=a;var e=o.postId;t.callForPost=function(){return a.getPost(e)};var n=function(){},r=function(){a.data.posts.length||n(),t.sameAuthorPosts=a.data.posts.filter(function(t){return t.author.username===a.data.post.author.username}),t.sameCategoryPosts=a.data.posts.filter(function(t){if(t.ID===a.data.post.ID)return!1;for(var o=t.terms.category.map(function(t){return t.name}),e=0;e<o.length;e++)for(var n=0;n<a.data.categories.length;n++)if(o[e]===a.data.categories[n]&&"Change Moments"!==o[e]&&"Exchange"!==o[e])return!0})};t.callForPost().then(function(t){}).then(r)};t.controller("postController",["$scope","$routeParams","contentState",o])}();
!function(){var c=angular.module("cxcApp");c.directive("cxcBanner",[function(){return{restrict:"E",templateUrl:"app/directives/templates/cxc-banner.html",scope:{cxcbannercontent:"="},replace:!0,link:function(c){},controller:["$scope",function(c){}]}}])}();
!function(){var c=angular.module("cxcApp");c.directive("cxcCard",[function(){return{restrict:"E",templateUrl:"app/directives/templates/cxc-card.html",scope:{cxccontent:"="},replace:!0,link:function(c){},controller:["$scope",function(c){c.testClick=function(){alert(c.cxccontent.title)}}]}}])}();
!function(){"use strict";var t=function(t,r,e){var c=r.serviceBase,n=function(r){return t.get(c+"posts/types/posts/taxonomies/category/terms").then(function(t){if(r){var e=t.data.filter(function(t){return t.parent?t.parent.name===r:void 0});t.data=e}return t})["catch"](function(t){e.catchError(t)})};return{getCategories:n}},r=angular.module("cxcApp");r.factory("categoryService",["$http","cxcService","errorService",t])}();
!function(){"use strict";var t=function(t,n,a,e,r){var o={categories:[],pageNumber:0,postsPerPage:6,post:{},posts:[],banners:[],galleries:[],artworks:[]},s=function(t){return a.getPage(t).then(function(t){o.page=t.data,o.page.content=n.trustAsHtml(o.page.content)})},c=function(t){return e.getPost(t).then(function(t){o.categories=t.data.terms.category.map(function(t){return t.name}),o.post=t.data,o.post.content=n.trustAsHtml(o.post.content)})},u=function(){return o.pageNumber=o.pageNumber+1,e.getPosts(o.postsPerPage,o.pageNumber,o.categories,!1).then(function(t){p(t.data,!1),1===o.pageNumber?o.posts=t.data:o.posts=o.posts.concat(t.data)})},g=function(){return e.getPosts(20,1,["art"],!0).then(function(t){o.artworks=t.data,angular.forEach(o.artworks,function(t){t.content=n.trustAsHtml(t.content),t.active=!1})})},i=function(){return e.getPosts(20,1,["gallery"],!1).then(function(t){p(t.data,!0),o.galleries=t.data})},f=function(t,n){var a=["banner"];return e.getBanners(o.postsPerPage,a).then(function(a){var e=[];t?(o.banners=[],angular.forEach(a.data,function(n){angular.forEach(n.terms.category,function(a){angular.forEach(t,function(t){a.name.toLowerCase()===t.toLowerCase()&&(e=e.concat(n))})})})):e=e.concat(a.data),n?(o.banners=[],angular.forEach(e,function(t){angular.forEach(t.terms.post_tag,function(n){"featured"===n.name.toLowerCase()&&(o.banners=o.banners.concat(t))})})):o.banners=o.banners.concat(e)})},p=function(t,n){var a=[];angular.forEach(t,function(t,e){angular.forEach(t.terms.category,function(r){"Banner"===r.name&&(a.push(e),n&&(o.banners=[],o.banners.push(t)))})}),angular.forEach(a,function(n){t.splice(n,1)})};return{data:o,getPage:s,getPost:c,getPosts:u,getArtworks:g,getGalleries:i,getBanners:f}},n=angular.module("cxcApp");n.factory("contentState",["$timeout","$sce","pageService","postService","errorService",t])}();
!function(){"use strict";var e=function(e,r){var c="http://localhost/ohsoserious/wp-json/",s="http://localhost:16327/",o=function(){var s=e.defer();if(c)s.resolve(c);else{var o="Service Base is undefined.";s.reject(o);var t={message:o};r(t)}return s.promise};return{serviceBase:c,getServiceUrl:o,applicationBase:s}},r=angular.module("cxcApp");r.factory("cxcService",["$q","errorService",e])}();
!function(){var r=function(){var r=function(r){console.log(r)};return{catchError:r}},c=angular.module("cxcApp");c.factory("errorService",[r])}();
!function(){"use strict";var e=function(e,r,t){var c=r.serviceBase,n=function(r){return e.get(c+"pages/"+r).then(function(e){return e})["catch"](function(e){t.catchError(e)})},u=function(){return e.get(c+"pages/").then(function(e){return e})["catch"](function(e){t.catchError(e)})};return{getPage:n,getPages:u}},r=angular.module("cxcApp");r.factory("pageService",["$http","cxcService","errorService",e])}();
!function(){"use strict";var t=function(t,e,r){var n=e.serviceBase,c=function(e){return t.get(n+"posts/"+e).then(function(t){return t})["catch"](function(t){r.catchError(t)})},o=function(e,c,o,a){var i=n+"posts?filter[posts_per_page]="+e+"&page="+c+"&fields=ID,title,excerpt";if(a&&(i+=",content"),o&&o.length>0){i+="&filter[category_name]=";for(var f=0;f<o.length;f++)i=i+","+o[f]}return i=i.replace("'",""),t.get(i).then(function(t){return t})["catch"](function(t){r.catchError(t)})},a=function(e,c){var o=n+"posts?filter[posts_per_page]="+e+"&fields=ID,title,excerpt";if(c&&c.length>0){o+="&filter[category_name]=";for(var a=0;a<c.length;a++)o=o+","+c[a]}return o=o.replace("'",""),t.get(o).then(function(t){return t})["catch"](function(t){r.catchError(t)})};return{getPost:c,getPosts:o,getBanners:a}},e=angular.module("cxcApp");e.factory("postService",["$http","cxcService","errorService",t])}();